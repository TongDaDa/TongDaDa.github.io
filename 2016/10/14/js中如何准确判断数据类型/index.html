<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JS中如何准确判断数据类型 | A flying pig</title>
    <meta name="description" content="The perform of python&#39;s unicode problem on different computer">
    
    <meta name="title" content="The perform of python&#39;s unicode problem on different computer"><meta name="keywords" content="Javascript, Lerna, monorepo, project-management."><meta name="author" content="刘彤, aflyingpig, Oliver Liu."><meta name="language" content="Chinese"><meta property="article:published_time" content="2016-10-14T00:00:00.000Z"><meta property="og:site_name" content="A flying pig"><meta property="og:title" content="JS中如何准确判断数据类型"><meta property="og:type" content="website"><meta property="og:url" content="/_posts/javascript/JS%E4%B8%AD%E5%A6%82%E4%BD%95%E5%87%86%E7%A1%AE%E5%88%A4%E6%96%AD%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html"><meta property="og:image" content="https://i.picsum.photos/id/79/800/600.jpg"><meta name="twitter:title" content="JS中如何准确判断数据类型"><meta name="twitter:url" content="/_posts/javascript/JS%E4%B8%AD%E5%A6%82%E4%BD%95%E5%87%86%E7%A1%AE%E5%88%A4%E6%96%AD%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://i.picsum.photos/id/79/800/600.jpg"><meta name="twitter:label2" content="Filed under"><meta name="twitter:data2" content="javascript"><meta property="article:tag" content="javascript">
    <link rel="preload" href="/assets/css/0.styles.71204fe4.css" as="style"><link rel="preload" href="/assets/js/app.f5be8a97.js" as="script"><link rel="preload" href="/assets/js/4.0ae9ee71.js" as="script"><link rel="preload" href="/assets/js/32.29d6aac3.js" as="script"><link rel="preload" href="/assets/js/7.96074dc2.js" as="script"><link rel="prefetch" href="/assets/js/10.b43af92f.js"><link rel="prefetch" href="/assets/js/11.edc9b920.js"><link rel="prefetch" href="/assets/js/12.519b2e37.js"><link rel="prefetch" href="/assets/js/13.16d34b01.js"><link rel="prefetch" href="/assets/js/14.99defc59.js"><link rel="prefetch" href="/assets/js/15.f0febbf1.js"><link rel="prefetch" href="/assets/js/16.ba59f751.js"><link rel="prefetch" href="/assets/js/17.7c8b4b65.js"><link rel="prefetch" href="/assets/js/18.c7bcebfd.js"><link rel="prefetch" href="/assets/js/19.823a166a.js"><link rel="prefetch" href="/assets/js/20.809c3e93.js"><link rel="prefetch" href="/assets/js/21.646737f1.js"><link rel="prefetch" href="/assets/js/22.171dcb63.js"><link rel="prefetch" href="/assets/js/23.df01493d.js"><link rel="prefetch" href="/assets/js/24.d5ff56a5.js"><link rel="prefetch" href="/assets/js/25.b8672e7d.js"><link rel="prefetch" href="/assets/js/26.46e3af24.js"><link rel="prefetch" href="/assets/js/27.092010c6.js"><link rel="prefetch" href="/assets/js/28.fcf76b76.js"><link rel="prefetch" href="/assets/js/29.079c4a0a.js"><link rel="prefetch" href="/assets/js/3.6464e04b.js"><link rel="prefetch" href="/assets/js/30.a38f54f6.js"><link rel="prefetch" href="/assets/js/31.acfd06a9.js"><link rel="prefetch" href="/assets/js/33.e8afa1f3.js"><link rel="prefetch" href="/assets/js/34.abff4b3c.js"><link rel="prefetch" href="/assets/js/35.dac45fd7.js"><link rel="prefetch" href="/assets/js/36.c4da7d07.js"><link rel="prefetch" href="/assets/js/37.24f896fa.js"><link rel="prefetch" href="/assets/js/38.f86ba431.js"><link rel="prefetch" href="/assets/js/39.99d40026.js"><link rel="prefetch" href="/assets/js/40.16a10398.js"><link rel="prefetch" href="/assets/js/41.ce9e5732.js"><link rel="prefetch" href="/assets/js/42.cc524cc2.js"><link rel="prefetch" href="/assets/js/43.086e0980.js"><link rel="prefetch" href="/assets/js/44.e60f31d2.js"><link rel="prefetch" href="/assets/js/45.2057be63.js"><link rel="prefetch" href="/assets/js/46.dd2ea92a.js"><link rel="prefetch" href="/assets/js/47.10b4c10a.js"><link rel="prefetch" href="/assets/js/48.77055a5b.js"><link rel="prefetch" href="/assets/js/49.8798ddca.js"><link rel="prefetch" href="/assets/js/5.c35e06de.js"><link rel="prefetch" href="/assets/js/6.7f3ab23e.js"><link rel="prefetch" href="/assets/js/8.e54dd76f.js"><link rel="prefetch" href="/assets/js/9.43311275.js"><link rel="prefetch" href="/assets/js/vuejs-paginate.0315eba6.js">
    <link rel="stylesheet" href="/assets/css/0.styles.71204fe4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><section data-v-7213d69c><header id="header" class="shadow" data-v-7213d69c><div class="p-3 d-flex justify-content-between"><div class="self-title"><a href="/" class="text-decoration-none h4 router-link-active">
        A flying pig
      </a> <span class="self-flag">
        一个充满理想并付诸于行动中的码农小白一名，喜欢遨游在计算机世界里，励志于成为全栈UED。
      </span></div> <div class="search-wrapper u-px3 d-flex align-items-center"><div aria-haspopup="listbox" role="combobox" aria-owns="el-autocomplete-7952" class="el-autocomplete"><div class="el-input el-input--small"><!----><input type="text" autocomplete="off" valueKey="value" popperClass="components-search" placeholder="Search" fetchSuggestions="function () { [native code] }" debounce="200" placement="bottom-end" popperAppendToBody="true" class="el-input__inner"><!----><!----><!----><!----></div><div role="region" class="el-autocomplete-suggestion el-popper components-search" style="width:;display:none;"><div class="el-scrollbar"><div class="el-autocomplete-suggestion__wrap el-scrollbar__wrap el-scrollbar__wrap--hidden-default"><ul class="el-scrollbar__view el-autocomplete-suggestion__list"></ul></div><div class="el-scrollbar__bar is-horizontal"><div class="el-scrollbar__thumb" style="width:0;transform:translateX(0%);ms-transform:translateX(0%);webkit-transform:translateX(0%);"></div></div><div class="el-scrollbar__bar is-vertical"><div class="el-scrollbar__thumb" style="height:0;transform:translateY(0%);ms-transform:translateY(0%);webkit-transform:translateY(0%);"></div></div></div></div></div></div></div> <nav class="px-5"><ul role="menubar" class="d-flex justify-content-center border-0 el-menu--horizontal el-menu" style="background-color:;"><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;"><a href="/" class="text-decoration-none d-block h-100 w-100 router-link-active"><i class="el-icon-house"></i>
          Home
        </a></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;"><a href="/projects/" class="text-decoration-none d-block h-100 w-100"><i class="el-icon-folder"></i>
          Projects
        </a></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;"><a href="/about_me/" class="text-decoration-none d-block h-100 w-100"><i class="el-icon-user"></i>
          About me
        </a></li></ul></nav></header> <div id="vuperess-theme-blog__post-layout" data-v-7213d69c><main class="vuepress-blog-theme-content"><div class="el-card mb-4 is-always-shadow"><!----><div class="el-card__body" style="padding:0;"><img src="https://i.picsum.photos/id/79/800/600.jpg" alt="JS中如何准确判断数据类型" class="w-100"> <div class="p-3"><h1 align="center">JS中如何准确判断数据类型</h1> <div class="ui-post-info d-flex text-secondary d-flex justify-content-center my-3"><div class="post-info-item"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
    Fri Oct 14 2016
  </div> <div class="post-info-item"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>
    3 min read
  </div> <div class="post-info-item"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-navigation"><polygon points="3 11 22 2 13 21 11 13 3 11"></polygon></svg>
    Beijing;
  </div></div></div></div></div> <div class="el-card is-always-shadow"><!----><div class="el-card__body" style="padding:1rem 2rem;"><div class="content__default"><p>在我的第一篇文章里，介绍过JS各大类型并使用typeof进行输出查看.也有提到过每个函数都有一个自己的内部属性[[class]]，这个class指的是js内部分类.这个类的大致包括：<code>数据类型</code>和<code>构造函数</code>这两种。</p> <p><a href="https://segmentfault.com/a/1190000008740554">JavaScript类型介绍 </a></p> <blockquote><p>我们讲过JS的几大数据类型，也用typeof查看了几个简单的数据类型值。那么今天我们再来更宽泛的了解一下这方面的知识。请看如下代码。</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>var num = 123;
var str = 'aflypig';
var bool = true;
var arr = [1, 2, 3, 4];
var obj = {name:'aflypig', age:21};
var func = function(){ console.log('this is function'); }
var und = undefined;
var nul = null;
var date = new Date();
var reg = /^[a-zA-Z]{5,20}$/;
var error= new Error(); 
</code></pre></div><p>显然，上次我们只用typeof查看了几个常用的数据类型，但这次多了一些内置构造函数，还有Array(上次特意没讲Array)类型。那么步入正题，我们怎样才能准确得获得这些<code>值</code>(再强调一次，这里不是变量，JS当中衡量类型的是值，变量是储存值的容器)数据类型呢？</p> <p>其实，一共有四种方法，但能完全准确地识别出它们的只有一种方法，这也是面试过程中屡见不鲜的一道题。</p> <h2 id="如果判断不同类型"><a href="#如果判断不同类型" class="header-anchor">#</a> 如果判断不同类型</h2> <h3 id="typeof"><a href="#typeof" class="header-anchor">#</a> typeof</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>   <span class="token keyword">typeof</span> num <span class="token comment">//number</span>
   <span class="token keyword">typeof</span> str <span class="token comment">//string</span>
   <span class="token keyword">typeof</span> bool <span class="token comment">//boolean</span>
   <span class="token keyword">typeof</span> arr <span class="token comment">//object</span>
   <span class="token keyword">typeof</span> obj <span class="token comment">//object</span>
   <span class="token keyword">typeof</span> func<span class="token comment">//function</span>
   <span class="token keyword">typeof</span> und <span class="token comment">//undefined</span>
   <span class="token keyword">typeof</span> nul <span class="token comment">//object</span>
   <span class="token keyword">typeof</span> date <span class="token comment">//object</span>
   <span class="token keyword">typeof</span> reg <span class="token comment">//object</span>
   <span class="token keyword">typeof</span> error <span class="token comment">//object</span>
</code></pre></div><p>解析：typeof可以识别<code>简单基本类型值</code>(比如:number,string,boolean)，但对于复合类型(Object,Array,Function)却只能识别Function。
undefined和null本身就是JS一直以来的bug，此处typeof <code>undefined</code>可以识别出正确的类型值，但null被归类到<code>Object</code>大家庭中。
对于此处的 date &amp;&amp; reg &amp;&amp; error 类型都是实例后的对象，typeof并不会深入识别他们的<code>构造函数</code>(这里不是数据类型)。显然typeof并不能处理这种复杂的类型。</p> <p>总结：typeof可以看作JS内部已经定义好的各个类型返回其对应的字符串，它不深入值本身，不进行类型转换，只针对于当前值返回其对应的类型值。同样的数据类型通过typeof运算符运算都是一样的，它没有原理可言，JS就是这样定义的，我们只管记死它。</p> <h3 id="instanceof"><a href="#instanceof" class="header-anchor">#</a> instanceof</h3> <p>通过上面的typeof判断，我们知道它并不能满足一些内置构造函数创建的<code>伪类型</code>。那么，我们这里来使用 constructor 查看他们的构造函数，从而分辨它们的类型。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>   num <span class="token keyword">instanceof</span> <span class="token class-name">Number</span>  <span class="token comment">//false</span>
   str <span class="token keyword">instanceof</span> <span class="token class-name">String</span>   <span class="token comment">//false</span>
   bool <span class="token keyword">instanceof</span> <span class="token class-name">Boolean</span>   <span class="token comment">//false</span>
   arr <span class="token keyword">instanceof</span> <span class="token class-name">Array</span>  <span class="token comment">//true</span>
   obj instaneof Object  <span class="token comment">//true</span>
   func <span class="token keyword">instanceof</span> <span class="token class-name">Function</span>  <span class="token comment">//true</span>
   und <span class="token keyword">instanceof</span>  <span class="token class-name">Object</span>   <span class="token comment">//false</span>
   nul <span class="token keyword">instanceof</span>   <span class="token class-name">Object</span>  <span class="token comment">//false</span>
   date <span class="token keyword">instanceof</span> <span class="token class-name">Date</span> <span class="token comment">//true</span>
   reg <span class="token keyword">instanceof</span> <span class="token class-name">RegExp</span> <span class="token comment">//true</span>
   error <span class="token keyword">instanceof</span> <span class="token class-name">Error</span> <span class="token comment">//true</span>
</code></pre></div><br>
解析:这里我们使用instanceof来`复合判断`的是否为对应类型。首先，我们先看false项，num str bool 这三个在使用instanceof 时并没有包装封装对象且`instanceof`则是根据
<h3 id="constructor"><a href="#constructor" class="header-anchor">#</a> Constructor</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>  num<span class="token punctuation">.</span>constructor <span class="token punctuation">.</span>name    <span class="token comment">//Numer</span>
  str<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>name  <span class="token comment">//String</span>
  bool<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>name  <span class="token comment">//Boolean</span>
  arr<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>name  <span class="token comment">//Array</span>
  obj<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>name  <span class="token comment">//Objeact</span>
  func<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>name  <span class="token comment">//Function</span>
  und<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>name  <span class="token comment">// TypeError</span>
  nul<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>name  <span class="token comment">//TypeError</span>
  date<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>name <span class="token comment">//Date</span>
  reg<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>name <span class="token comment">// RegExp</span>
  error<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>name <span class="token comment">//Error</span>
</code></pre></div><br>
上面除了undefined 和 null 类型错误(两者都没有属性值)之外, 其他都可以获得我们想要的数据类型。但实际真的如此吗？
<br> <div class="language-javascript extra-class"><pre class="language-javascript"><code>  <span class="token keyword">var</span> <span class="token function-variable function">Structure</span> <span class="token operator">=</span>  <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token punctuation">}</span>
  <span class="token keyword">var</span> ins <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Structure</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ins<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>name  <span class="token comment">//Structure </span>

  <span class="token keyword">var</span> <span class="token function-variable function">Person</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">var</span> <span class="token function-variable function">Student</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
   
  <span class="token class-name">Person</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  obj<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Student
</code></pre></div><p>解析：第一种情况，对于通过我们的构造函数生成的实例，不能准确得获得其对应得类型名称，这一点恐怕就已经遏制了我们使用这种方式。
第二种情况，由于对象的构造函数是<code>可变的</code>，<code>不准确的</code>，我们还是无法准确的通过constructor获得具体的类型.</p> <p>总结：通过constructor我们可以得到 instance不能得到的  str num bool 这些<code>基本类型值</code>，但另一个问题又浮现出来，constructor的<code>可变性</code>，由于它的不确定性，我们在很多情况下都无法判断出正确的数据类型，所以使用constructor这个方法也差不多废了....</p> <h3 id="class"><a href="#class" class="header-anchor">#</a> [[Class]]</h3> <p>解析：此[[class]]指的是隐藏在javascript内部的分类属性，它不可读，不可枚举，不可修改，不可配置。（两边出现__下划线__的属性都属于部分浏览器支持的属性。[[]]两个中括号括起来的属性属于JavaScript内部属性。），我记得上一章说过，JavaScript中<code>一切皆为对象</code>的理念,我们可以强制把它转换成字符串，使它暴露出内部的[[class]]属性。</p> <p>了解了以上各种方法，我们发现它们只能完成部分的类型验证，有些情况是可变和不准确的。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//  &quot;[object Number]&quot;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//  &quot;[object String]&quot;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>bool<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//  &quot;[object Boolean]&quot;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//  &quot;[object Array]&quot;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//  &quot;[object Function]&quot;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>und<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//  &quot;[object Undefined]&quot;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>nul<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//  &quot;[object Null]&quot;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//  &quot;[object Date]&quot;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//  &quot;[object RegExp]&quot;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//  &quot;[object Error]&quot;</span>
 
arr <span class="token keyword">instanceof</span> <span class="token class-name">Array</span>  <span class="token comment">//true</span>
obj instaneof Object  <span class="token comment">//true</span>
func <span class="token keyword">instanceof</span> <span class="token class-name">Function</span>  <span class="token comment">//true</span>
und <span class="token keyword">instanceof</span>  <span class="token class-name">Object</span>   <span class="token comment">//false</span>
nul <span class="token keyword">instanceof</span>   <span class="token class-name">Object</span>  <span class="token comment">//false</span>
date <span class="token keyword">instanceof</span> <span class="token class-name">Date</span> <span class="token comment">//true</span>
reg <span class="token keyword">instanceof</span> <span class="token class-name">RegExp</span> <span class="token comment">//true</span>
error <span class="token keyword">instanceof</span> <span class="token class-name">Error</span> <span class="token comment">//true</span>
</code></pre></div><p>我们通过 Object 的 toString 方法来查看了当前对象的<code>数据类型</code>，我们看到使用这种方式可以完美的查看对应的数据类型，正是我们想要的，而且每个对象都有属于自己的[[class]]，我们可以理解为，它是JavaScript根据内置构造函数做出的内部分类。</p> <p>对于这种经常使用原生js又难以需求的情况下，怎么能少得了jqquery呢？</p> <p>以下是与jQuery.type()函数相关的jQuery示例代码：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>jQuery<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span> <span class="token keyword">undefined</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;undefined&quot;</span>
jQuery<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span> <span class="token keyword">null</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;null&quot;</span>
 
jQuery<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;boolean&quot;</span>
jQuery<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span> <span class="token keyword">new</span> <span class="token class-name">Boolean</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;boolean&quot;</span>
 
jQuery<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span> <span class="token number">3</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;number&quot;</span>
jQuery<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span> <span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;number&quot;</span>
 
jQuery<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span> <span class="token string">&quot;test&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;string&quot;</span>
jQuery<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;string&quot;</span>
 
jQuery<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;function&quot;</span>
jQuery<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span> <span class="token keyword">new</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;function&quot;</span>
 
jQuery<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;array&quot;</span>
jQuery<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;array&quot;</span>
 
jQuery<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;date&quot;</span>
 
jQuery<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;error&quot; // jQuery 1.9 新增支持</span>
 
jQuery<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span> <span class="token regex">/test/</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;regexp&quot;</span>
jQuery<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">&quot;\\d+&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;regexp&quot;</span>
</code></pre></div><p>jquery内部也是通过我们刚才说到的 [[class]]的方式实现的，它返回一个字符串，固定为小写字母。
我们可以写行代码，来简单的实现jquery中的type方法</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">type</span><span class="token punctuation">(</span><span class="token parameter">o</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> s  <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> s<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>s<span class="token punctuation">.</span>length<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">type</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>  <span class="token comment">//boolean</span>
<span class="token function">type</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>  <span class="token comment">//object</span>
<span class="token function">type</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">//array</span>
<span class="token function">type</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>  <span class="token comment">//string</span>
<span class="token function">type</span><span class="token punctuation">(</span><span class="token regex">/^/</span><span class="token punctuation">)</span>  <span class="token comment">//regexp</span>
</code></pre></div><p>希望通过本次粗浅的讲解能给大家带来一点收获，在知道最终有适合的方式时，应该多去考虑使用另外的方式去实现的手段，因为做这样可以扩展自己的知识范围。就比如上文，如果从后向前列举，我想有很多人都不会去思考 constructor 和 instance 的不足以及他们的适用范围吧，</p></div></div></div> <div class="el-card my-4 is-always-shadow"><div class="el-card__header"><div class="clearfix"><h5 class="m-0">Read More</h5></div></div><div class="el-card__body"> <div class="container featured-posts my-4"><div class="el-carousel el-carousel--horizontal el-carousel--card"><div class="el-carousel__container" style="height:300px;"><button type="button" class="el-carousel__arrow el-carousel__arrow--left" style="display:none;"><i class="el-icon-arrow-left"></i></button><button type="button" class="el-carousel__arrow el-carousel__arrow--right" style="display:none;"><i class="el-icon-arrow-right"></i></button><div class="el-carousel__item bg-light bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://cdn.pixabay.com/photo/2020/03/27/15/12/books-4973837_960_720.jpg);background-blend-mode:multiply;background-size:cover;"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 featured-post-title mb-3">What's the unicode and UTF series?</h4> <a href="/2018/12/14/conclution-of-charcode/" class="el-button el-button--primary">Read this Post <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item bg-light bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://cdn.pixabay.com/photo/2020/02/07/14/49/glacier-4827387_960_720.jpg);background-blend-mode:multiply;background-size:cover;"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 featured-post-title mb-3">《专业和业余的区别》于吴军老师的第280封硅谷来信</h4> <a href="/2019/10/14/%E3%80%8A%E4%B8%93%E4%B8%9A%E5%92%8C%E4%B8%9A%E4%BD%99%E7%9A%84%E5%8C%BA%E5%88%AB%E3%80%8B%E4%BA%8E%E5%90%B4%E5%86%9B%E8%80%81%E5%B8%88%E7%9A%84%E7%AC%AC280%E5%B0%81%E7%A1%85%E8%B0%B7%E6%9D%A5%E4%BF%A1/" class="el-button el-button--primary">Read this Post <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item bg-light bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://cdn.pixabay.com/photo/2020/03/16/10/27/spring-4936511_960_720.jpg);background-blend-mode:multiply;background-size:cover;"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 featured-post-title mb-3">“痛并快乐着”于白岩松先生的《白说》</h4> <a href="/2019/10/14/%E2%80%9C%E7%97%9B%E5%B9%B6%E5%BF%AB%E4%B9%90%E7%9D%80%E2%80%9D%E4%BA%8E%E7%99%BD%E5%B2%A9%E6%9D%BE%E5%85%88%E7%94%9F%E7%9A%84%E3%80%8A%E7%99%BD%E8%AF%B4%E3%80%8B/" class="el-button el-button--primary">Read this Post <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item bg-light bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://cdn.pixabay.com/photo/2020/03/21/19/27/sea-4955005_960_720.jpg);background-blend-mode:multiply;background-size:cover;"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 featured-post-title mb-3">《成功并不难，在于少犯错误》于 吴军老师的第187封硅谷来信</h4> <a href="/2019/10/14/%E3%80%8A%E6%88%90%E5%8A%9F%E5%B9%B6%E4%B8%8D%E9%9A%BE%EF%BC%8C%E5%9C%A8%E4%BA%8E%E5%B0%91%E7%8A%AF%E9%94%99%E8%AF%AF%E3%80%8B%E4%BA%8E-%E5%90%B4%E5%86%9B%E8%80%81%E5%B8%88%E7%9A%84%E7%AC%AC187%E5%B0%81%E7%A1%85%E8%B0%B7%E6%9D%A5%E4%BF%A1/" class="el-button el-button--primary">Read this Post <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item bg-light bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://cdn.pixabay.com/photo/2020/03/22/11/23/landscape-4956790_960_720.jpg);background-blend-mode:multiply;background-size:cover;"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 featured-post-title mb-3">古希腊神话</h4> <a href="/2019/10/14/%E5%8F%A4%E5%B8%8C%E8%85%8A%E7%A5%9E%E8%AF%9D/" class="el-button el-button--primary">Read this Post <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item bg-light bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://cdn.pixabay.com/photo/2020/03/06/08/00/office-4906312_960_720.jpg);background-blend-mode:multiply;background-size:cover;"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 featured-post-title mb-3">属于你的那份成长曲线图</h4> <a href="/2019/10/14/%E5%B1%9E%E4%BA%8E%E4%BD%A0%E7%9A%84%E9%82%A3%E4%BB%BD%E6%88%90%E9%95%BF%E6%9B%B2%E7%BA%BF%E5%9B%BE/" class="el-button el-button--primary">Read this Post <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item bg-light bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://cdn.pixabay.com/photo/2020/03/25/11/43/book-4966982_960_720.jpg);background-blend-mode:multiply;background-size:cover;"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 featured-post-title mb-3">知识复利之路于李笑来老师的《通往财富自由之路》解读</h4> <a href="/2019/10/14/%E7%9F%A5%E8%AF%86%E5%A4%8D%E5%88%A9%E4%B9%8B%E8%B7%AF%E4%BA%8E%E6%9D%8E%E7%AC%91%E6%9D%A5%E8%80%81%E5%B8%88%E7%9A%84%E3%80%8A%E9%80%9A%E5%BE%80%E8%B4%A2%E5%AF%8C%E8%87%AA%E7%94%B1%E4%B9%8B%E8%B7%AF%E3%80%8B%E8%A7%A3%E8%AF%BB/" class="el-button el-button--primary">Read this Post <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item bg-light bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://cdn.pixabay.com/photo/2020/03/16/10/27/spring-4936511_960_720.jpg);background-blend-mode:multiply;background-size:cover;"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 featured-post-title mb-3">“痛并快乐着”于白岩松先生的《白说》</h4> <a href="/2019/10/14/%E8%AE%A4%E7%9C%9F%E5%81%9A%E4%BA%8B%EF%BC%8C%E5%81%A5%E5%BA%B7%E5%81%9A%E4%BA%BA/" class="el-button el-button--primary">Read this Post <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item bg-light bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://cdn.pixabay.com/photo/2020/03/03/20/31/laguna-4899802_960_720.jpg);background-blend-mode:multiply;background-size:cover;"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 featured-post-title mb-3">深入贯彻闭包思想，全面理解JS闭包形成过程</h4> <a href="/2017/11/28/the-closure-in-javascript/" class="el-button el-button--primary">Read this Post <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item bg-light bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://i.picsum.photos/id/79/800/600.jpg);background-blend-mode:multiply;background-size:cover;"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 featured-post-title mb-3">The perform of python's unicode problem on different computer</h4> <a href="/2019/10/14/charcode-in-different-platform/" class="el-button el-button--primary">Read this Post <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item bg-light bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://i.picsum.photos/id/79/800/600.jpg);background-blend-mode:multiply;background-size:cover;"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 featured-post-title mb-3">video Track</h4> <a href="/2020/01/06/basic-web-rtc-knowledge/" class="el-button el-button--primary">Read this Post <i class="el-icon-arrow-right"></i></a></div></div></div><ul class="el-carousel__indicators el-carousel__indicators--horizontal el-carousel__indicators--outside"></ul></div></div></div></div> <div class="el-card is-always-shadow"><div class="el-card__header"><div class="clearfix"><h5 class="m-0">Tags</h5></div></div><div class="el-card__body"> <div><a href="/tag/javascript" class="el-button el-button--small text-decoration-none d-inline-block">#javascript</a></div></div></div> <div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#如果判断不同类型" title="如果判断不同类型">如果判断不同类型</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#typeof" title="typeof">typeof</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#instanceof" title="instanceof">instanceof</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#constructor" title="Constructor">Constructor</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#class" title="[[Class]]">[[Class]]</a></div></div> <!----></main></div> <footer class="footer" data-v-5eccf6f7 data-v-7213d69c><div class="footer-left-wrap" data-v-5eccf6f7><ul class="contact" data-v-5eccf6f7><li class="contact-item" data-v-5eccf6f7><a href="https://github.com/TongDaDa" target="_blank" rel="noopener noreferrer" class="external" data-v-5eccf6f7><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github" data-v-5eccf6f7><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" data-v-5eccf6f7></path></svg>
          
        </a></li><li class="contact-item" data-v-5eccf6f7><a href="https://weibo.com/u/5736764406?is_all=1" target="_blank" rel="noopener noreferrer" class="external" data-v-5eccf6f7><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-linkedin" data-v-5eccf6f7><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z" data-v-5eccf6f7></path><rect x="2" y="9" width="4" height="12" data-v-5eccf6f7></rect><circle cx="4" cy="4" r="2" data-v-5eccf6f7></circle></svg>
          
        </a></li><li class="contact-item" data-v-5eccf6f7><a href="https://twitter.com/Console90Liu" target="_blank" rel="noopener noreferrer" class="external" data-v-5eccf6f7><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter" data-v-5eccf6f7><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z" data-v-5eccf6f7></path></svg>
          
        </a></li></ul></div> <div class="footer-right-wrap" data-v-5eccf6f7><ul class="copyright" data-v-5eccf6f7><li class="copyright-item" data-v-5eccf6f7><a href="https://policies.google.com/privacy?hl=en-US" target="_blank" rel="noopener noreferrer" class="external" data-v-5eccf6f7>Privacy Policy</a></li><li class="copyright-item" data-v-5eccf6f7><a href="/2016/10/14/js%E4%B8%AD%E5%A6%82%E4%BD%95%E5%87%86%E7%A1%AE%E5%88%A4%E6%96%AD%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/.html" data-v-5eccf6f7>MIT Licensed | Copyright © 2018-present Vue.js</a></li></ul></div></footer></section><div class="global-ui"><div class="reading-progress top" data-v-56679cca><div class="progress" data-v-56679cca></div></div><!----></div></div>
    <script src="/assets/js/app.f5be8a97.js" defer></script><script src="/assets/js/4.0ae9ee71.js" defer></script><script src="/assets/js/32.29d6aac3.js" defer></script><script src="/assets/js/7.96074dc2.js" defer></script>
  </body>
</html>
